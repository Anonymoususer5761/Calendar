{% extends 'layout.html' %}

{% block style %}
    <link rel="stylesheet" href="{{ url_for('static', filename='dates.css') }}">
{% endblock %}

{% block main %}
    <p id="selected-date" class="h1 text-primary">{{ date }}</p>

    <div class="d-flex m-2">
        <a class="btn btn-sm btn-outline-tertiary rounded" role="button" data-bs-toggle="modal" {% if current_user.is_authenticated %} data-bs-target="#add-event-modal" {% else %} data-bs-target="#alert-modal"{% endif %}>
            Add Event
        </a>
    </div>
    {% if current_user.is_authenticated %}
        <div id="add-event-modal" class="modal fade" tabindex="-1" aria-label="add-event" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <form class="p-3" action="" method="post">
                        <a class="btn btn-sm btn-tertiary btn-close" role="button" data-bs-dismiss="modal" aria-label="close"></a>
                        {{ add_event_form.hidden_tag() }}
                        <div>
                            {{ add_event_form.name.label(class="form-label") }}
                            {{ add_event_form.name(class="form-control", autocomplete="off") }}
                        </div>
                        <div>
                            {{ add_event_form.description.label(class="form-label") }}
                            {{ add_event_form.description(class="form-control", autocomplete="off") }}
                        </div>
                        <div>
                            {{ add_event_form.start_time.label(class="form-label") }}
                            {{ add_event_form.start_time(class="form-control", value=add_event_form.start_time.default) }}
                        </div>
                        <div>
                            {{ add_event_form.end_time.label(class="form-label") }}
                            {{ add_event_form.end_time(class="form-control",value=add_event_form.start_time.default) }}
                        </div>
                        <div>
                            {{ add_event_form.event_color.label(class="form-label") }}
                            {{ add_event_form.event_color(id="colorInput", class="form-control form-control-color", type="color", value="#99c1f1", title="Color") }}
                        </div>
                        <div class="m-3">
                            {{ add_event_form.submit(class="btn btn-tertiary") }}
                        </div>
                    </form>
                </div>
            </div>
        </div>
    {% else %}
        <div id="alert-modal" class="modal fade" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <p id="modal-title" class="h5 modal-title">Login Required</p>
                        <a class="btn btn-sm btn-tertiary btn-close" role="button" data-bs-dismiss="modal" aria-label="close"></a>
                    </div>
                    <a href="{{ url_for('login') }}" class="btn btn-sm btn-tertiary" role="button">Sign In</a>
                </div>
            </div>
        </div>
    {% endif %}

    <div class="container-sm my-5 ms-3 me-5">
        <div class="row justify-content-center">
            <div class="day-name text-center">{{ day_name }}</div>
        </div>
        <div class="row">
            <svg class="col-1 row ms-0 me-1 ps-2 pe-0 hours-row-svg" height="2500" width="100%">
                <text class="hours-label" x="25%" y="22">00:00</text>
                <text class="hours-label" x="25%" y="122">01:00</text>
                <text class="hours-label" x="25%" y="222">02:00</text>
                <text class="hours-label" x="25%" y="322">03:00</text>
                <text class="hours-label" x="25%" y="422">04:00</text>
                <text class="hours-label" x="25%" y="522">05:00</text>
                <text class="hours-label" x="25%" y="622">06:00</text>
                <text class="hours-label" x="25%" y="722">07:00</text>
                <text class="hours-label" x="25%" y="822">08:00</text>
                <text class="hours-label" x="25%" y="922">09:00</text>
                <text class="hours-label" x="25%" y="1022">10:00</text>
                <text class="hours-label" x="25%" y="1122">11:00</text>
                <text class="hours-label" x="25%" y="1222">12:00</text>
                <text class="hours-label" x="25%" y="1322">13:00</text>
                <text class="hours-label" x="25%" y="1422">14:00</text>
                <text class="hours-label" x="25%" y="1522">15:00</text>
                <text class="hours-label" x="25%" y="1622">16:00</text>
                <text class="hours-label" x="25%" y="1722">17:00</text>
                <text class="hours-label" x="25%" y="1822">18:00</text>
                <text class="hours-label" x="25%" y="1922">19:00</text>
                <text class="hours-label" x="25%" y="2022">20:00</text>
                <text class="hours-label" x="25%" y="2122">21:00</text>
                <text class="hours-label" x="25%" y="2222">22:00</text>
                <text class="hours-label" x="25%" y="2322">23:00</text>
                <text class="hours-label" x="25%" y="2422">00:00</text>
            </svg>
            <div id="day-timeline" class="col-10 p-0 ms-0 mt-3 pe-5">
                <svg class="hours-line-svg" height="2500" width="100%">
                    <line class="hours-line" x1="0" y1="200" x2="100%" y2="200"></line>
                    <line class="hours-line" x1="0" y1="300" x2="100%" y2="300"></line>
                    <line class="hours-line" x1="0" y1="400" x2="100%" y2="400"></line>
                    <line class="hours-line" x1="0" y1="100" x2="100%" y2="100"></line>
                    <line class="hours-line" x1="0" y1="500" x2="100%" y2="500"></line>
                    <line class="hours-line" x1="0" y1="600" x2="100%" y2="600"></line>
                    <line class="hours-line" x1="0" y1="700" x2="100%" y2="700"></line>
                    <line class="hours-line" x1="0" y1="800" x2="100%" y2="800"></line>
                    <line class="hours-line" x1="0" y1="900" x2="100%" y2="900"></line>
                    <line class="hours-line" x1="0" y1="1000" x2="100%" y2="1000"></line>
                    <line class="hours-line" x1="0" y1="1100" x2="100%" y2="1100"></line>
                    <line class="hours-line" x1="0" y1="1200" x2="100%" y2="1200"></line>
                    <line class="hours-line" x1="0" y1="1300" x2="100%" y2="1300"></line>
                    <line class="hours-line" x1="0" y1="1400" x2="100%" y2="1400"></line>
                    <line class="hours-line" x1="0" y1="1500" x2="100%" y2="1500"></line>
                    <line class="hours-line" x1="0" y1="1600" x2="100%" y2="1600"></line>
                    <line class="hours-line" x1="0" y1="1700" x2="100%" y2="1700"></line>
                    <line class="hours-line" x1="0" y1="1800" x2="100%" y2="1800"></line>
                    <line class="hours-line" x1="0" y1="1900" x2="100%" y2="1900"></line>
                    <line class="hours-line" x1="0" y1="2000" x2="100%" y2="2000"></line>
                    <line class="hours-line" x1="0" y1="2100" x2="100%" y2="2100"></line>
                    <line class="hours-line" x1="0" y1="2200" x2="100%" y2="2200"></line>
                    <line class="hours-line" x1="0" y1="2300" x2="100%" y2="2300"></line>
                    <line class="now-line" x1="0" y1="50" x2="100%" y2="50"></line>
                </svg>
            </div>
        </div>
    </div>

{% endblock main %}